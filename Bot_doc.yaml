openapi: 3.0.3
info:
  title: Food Recognition & Nutrition API
  description: |
    **API t∆∞ v·∫•n dinh d∆∞·ª°ng v√† nh·∫≠n di·ªán m√≥n ƒÉn b·∫±ng AI cho ng∆∞·ªùi Vi·ªát Nam**

    H·ªá th·ªëng k·∫øt h·ª£p Clarifai v√† OpenAI GPT-4 ƒë·ªÉ:
    - ü•ó Nh·∫≠n di·ªán m√≥n ƒÉn t·ª´ ·∫£nh
    - üìä Ph√¢n t√≠ch th√†nh ph·∫ßn dinh d∆∞·ª°ng chi ti·∫øt
    - üçΩÔ∏è So s√°nh nhi·ªÅu m√≥n ƒÉn
    - üìà Theo d√µi calo h√†ng ng√†y
    - üí° G·ª£i √Ω th·ª±c ƒë∆°n l√†nh m·∫°nh
    - ü§ñ Chat v·ªõi chuy√™n gia dinh d∆∞·ª°ng AI

    **C√¥ng ngh·ªá:**
    - Clarifai API: Nh·∫≠n di·ªán m√≥n ƒÉn
    - OpenAI GPT-4o & GPT-4 Vision: Ph√¢n t√≠ch v√† t∆∞ v·∫•n
    - Flask: Backend API
  contact:
    name: API Support
    email: support@foodapi.com
  license:
    name: MIT
    url: https://opensource.org/licenses/MIT
  version: 1.0.0
servers:
- url: http://localhost:5000
  description: Development Server
- url: https://api.foodrecognition.com
  description: Production Server
security:
- ApiKeyAuth: []
tags:
- name: Utilities
  description: C√°c ch·ª©c nƒÉng h·ªó tr·ª£ v√† ki·ªÉm tra
- name: Chat
  description: Chat v·ªõi chuy√™n gia dinh d∆∞·ª°ng AI
- name: Food Analysis
  description: Ph√¢n t√≠ch v√† nh·∫≠n di·ªán m√≥n ƒÉn
- name: Comparison & Tracking
  description: So s√°nh m√≥n ƒÉn v√† theo d√µi calo
- name: Meal Planning
  description: L·∫≠p k·∫ø ho·∫°ch th·ª±c ƒë∆°n
- name: User Profile
  description: Qu·∫£n l√Ω h·ªì s∆° ng∆∞·ªùi d√πng
paths:
  /api/health:
    get:
      tags:
      - Utilities
      summary: Health Check
      description: Ki·ªÉm tra tr·∫°ng th√°i API v√† danh s√°ch endpoints kh·∫£ d·ª•ng
      operationId: healthCheck
      responses:
        "200":
          description: API ƒëang ho·∫°t ƒë·ªông
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HealthResponse"
  /api/chat:
    post:
      tags:
      - Chat
      summary: Chat v·ªõi chuy√™n gia dinh d∆∞·ª°ng AI
      description: |
        T∆∞ v·∫•n dinh d∆∞·ª°ng d·∫°ng chat v·ªõi l·ªãch s·ª≠ h·ªôi tho·∫°i.
        S·ª≠ d·ª•ng GPT-4o-mini ƒë·ªÉ tr·∫£ l·ªùi nhanh v√† ti·∫øt ki·ªám.
      operationId: chat
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ChatRequest"
            examples:
              basic_question:
                summary: C√¢u h·ªèi c∆° b·∫£n
                value:
                  message: "T√¥i b·ªã ti·ªÉu ƒë∆∞·ªùng, n√™n ƒÉn g√¨?"
              with_session:
                summary: Ti·∫øp t·ª•c h·ªôi tho·∫°i
                value:
                  message: C√≤n m√≥n n√†o kh√°c kh√¥ng?
                  session_id: 550e8400-e29b-41d4-a716-446655440000
        required: true
      responses:
        "200":
          description: Tr·∫£ l·ªùi th√†nh c√¥ng
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ChatResponse"
        "400":
          description: Tin nh·∫Øn kh√¥ng h·ª£p l·ªá
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "500":
          description: L·ªói server
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
  /api/analyze-food:
    post:
      tags:
      - Food Analysis
      summary: Ph√¢n t√≠ch m√≥n ƒÉn chi ti·∫øt
      description: |
        Nh·∫≠n di·ªán m√≥n ƒÉn b·∫±ng Clarifai v√† ph√¢n t√≠ch dinh d∆∞·ª°ng chi ti·∫øt b·∫±ng GPT-4 Vision.

        **K·∫øt qu·∫£ bao g·ªìm:**
        - X√°c nh·∫≠n m√≥n ƒÉn
        - Th√¥ng tin dinh d∆∞·ª°ng (calo, protein, carbs, fat, ch·∫•t x∆°, vitamin)
        - ƒê√°nh gi√° ph√π h·ª£p v·ªõi s·ª©c kh·ªèe (1-5 sao)
        - ∆Øu/nh∆∞·ª£c ƒëi·ªÉm
        - G·ª£i √Ω c·∫£i thi·ªán v√† m√≥n thay th·∫ø
      operationId: analyzeFood
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/AnalyzeFoodRequest"
            examples:
              basic_analysis:
                summary: Ph√¢n t√≠ch c∆° b·∫£n
                value:
                  image: "data:image/jpeg;base64,/9j/4AAQSkZJRg..."
              with_health_condition:
                summary: Ph√¢n t√≠ch cho ng∆∞·ªùi ti·ªÉu ƒë∆∞·ªùng
                value:
                  image: "data:image/jpeg;base64,/9j/4AAQSkZJRg..."
                  health_condition: ti·ªÉu ƒë∆∞·ªùng
                  dietary_goals: gi·∫£m c√¢n
        required: true
      responses:
        "200":
          description: Ph√¢n t√≠ch th√†nh c√¥ng
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AnalyzeFoodResponse"
              example:
                success: true
                detected_foods:
                - name: ph·ªü b√≤
                  confidence: 98.5
                - name: th·ªãt b√≤
                  confidence: 95.2
                analysis: |
                  ## 1. üçΩÔ∏è X√ÅC NH·∫¨N M√ìN ƒÇN
                  - Ph·ªü b√≤: M·ªôt t√¥ ph·ªü ƒë·∫ßy ƒë·ªß v·ªõi th·ªãt b√≤, b√°nh ph·ªü...

                  ## 2. üìä TH√îNG TIN DINH D∆Ø·ª†NG
                  - **Calo**: 450 kcal
                  - **Protein**: 25g
                  - **Carbohydrate**: 60g
                  - **Ch·∫•t b√©o**: 12g

                  ## 3. ‚≠ê ƒê√ÅNH GI√Å PH√ô H·ª¢P
                  - **M·ª©c ƒë·ªô**: ‚≠ê‚≠ê‚≠ê‚≠ê (4/5 sao)
                health_condition: ti·ªÉu ƒë∆∞·ªùng
                dietary_goals: gi·∫£m c√¢n
        "400":
          description: Kh√¥ng nh·∫≠n di·ªán ƒë∆∞·ª£c m√≥n ƒÉn ho·∫∑c thi·∫øu ·∫£nh
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorWithSuggestion"
        "500":
          description: L·ªói server
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
  /api/compare-foods:
    post:
      tags:
      - Comparison & Tracking
      summary: So s√°nh nhi·ªÅu m√≥n ƒÉn
      description: |
        So s√°nh 2-4 m√≥n ƒÉn v·ªÅ m·∫∑t dinh d∆∞·ª°ng v√† x·∫øp h·∫°ng.

        **K·∫øt qu·∫£ bao g·ªìm:**
        - B·∫£ng so s√°nh dinh d∆∞·ª°ng chi ti·∫øt
        - X·∫øp h·∫°ng t·ª´ t·ªët nh·∫•t ƒë·∫øn k√©m nh·∫•t
        - Khuy·∫øn ngh·ªã n√™n ch·ªçn m√≥n n√†o
        - C·∫£nh b√°o ƒë·∫∑c bi·ªát cho ng∆∞·ªùi c√≥ b·ªánh
      operationId: compareFoods
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CompareFoodsRequest"
            examples:
              compare_two:
                summary: So s√°nh 2 m√≥n
                value:
                  images:
                  - "data:image/jpeg;base64,..."
                  - "data:image/jpeg;base64,..."
                  health_condition: tim m·∫°ch
              compare_multiple:
                summary: So s√°nh nhi·ªÅu m√≥n
                value:
                  images:
                  - "data:image/jpeg;base64,..."
                  - "data:image/jpeg;base64,..."
                  - "data:image/jpeg;base64,..."
                  - "data:image/jpeg;base64,..."
        required: true
      responses:
        "200":
          description: So s√°nh th√†nh c√¥ng
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CompareFoodsResponse"
        "400":
          description: C·∫ßn √≠t nh·∫•t 2 ·∫£nh
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "500":
          description: L·ªói server
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
  /api/track-calories:
    post:
      tags:
      - Comparison & Tracking
      summary: Theo d√µi calo trong ng√†y
      description: |
        Theo d√µi t·∫•t c·∫£ c√°c b·ªØa ƒÉn trong ng√†y v√† t√≠nh t·ªïng calo.

        **K·∫øt qu·∫£ bao g·ªìm:**
        - Chi ti·∫øt t·ª´ng b·ªØa ƒÉn (S√°ng, Tr∆∞a, T·ªëi, Ph·ª•)
        - T·ªïng h·ª£p calo v√† so v·ªõi m·ª•c ti√™u
        - Ph√¢n b·ªë dinh d∆∞·ª°ng (protein, carbs, fat)
        - Bi·ªÉu ƒë·ªì ph√¢n b·ªë d·∫°ng text
        - ƒê√°nh gi√° t·ªïng th·ªÉ
        - G·ª£i √Ω ƒëi·ªÅu ch·ªânh n·∫øu thi·∫øu/th·ª´a calo
      operationId: trackCalories
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/TrackCaloriesRequest"
            examples:
              full_day:
                summary: Theo d√µi c·∫£ ng√†y
                value:
                  images:
                  - "data:image/jpeg;base64,..."
                  - "data:image/jpeg;base64,..."
                  - "data:image/jpeg;base64,..."
                  target_calories: 1800
                  health_condition: b√©o ph√¨
        required: true
      responses:
        "200":
          description: Theo d√µi th√†nh c√¥ng
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TrackCaloriesResponse"
        "400":
          description: Ch∆∞a c√≥ ·∫£nh b·ªØa ƒÉn
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "500":
          description: L·ªói server
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
  /api/quick-scan:
    post:
      tags:
      - Food Analysis
      summary: Qu√©t nhanh nh·∫≠n di·ªán m√≥n
      description: |
        Nh·∫≠n di·ªán nhanh m√≥n ƒÉn ch·ªâ b·∫±ng Clarifai (kh√¥ng ph√¢n t√≠ch chi ti·∫øt).
        D√πng khi c·∫ßn k·∫øt qu·∫£ nhanh ho·∫∑c ch·ªâ mu·ªën bi·∫øt t√™n m√≥n.
      operationId: quickScan
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/QuickScanRequest"
        required: true
      responses:
        "200":
          description: Nh·∫≠n di·ªán th√†nh c√¥ng
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/QuickScanResponse"
        "400":
          description: Kh√¥ng nh·∫≠n di·ªán ƒë∆∞·ª£c ho·∫∑c thi·∫øu ·∫£nh
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorWithSuggestion"
        "500":
          description: L·ªói server
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
  /api/meal-suggestion:
    post:
      tags:
      - Meal Planning
      summary: G·ª£i √Ω th·ª±c ƒë∆°n 1 b·ªØa
      description: |
        ƒê·ªÅ xu·∫•t 2-3 m√≥n ƒÉn Vi·ªát ph√π h·ª£p cho b·ªØa ƒÉn d·ª±a tr√™n:
        - T√¨nh tr·∫°ng s·ª©c kh·ªèe
        - S·ªü th√≠ch ƒÉn u·ªëng
        - Ng√¢n s√°ch
        - Th·ªùi gian n·∫•u
        - B·ªØa ƒÉn n√†o trong ng√†y
      operationId: mealSuggestion
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/MealSuggestionRequest"
            examples:
              quick_lunch:
                summary: B·ªØa tr∆∞a nhanh
                value:
                  meal_time: tr∆∞a
                  cooking_time: 15 ph√∫t
                  budget_range: 50k
              healthy_dinner:
                summary: B·ªØa t·ªëi l√†nh m·∫°nh
                value:
                  meal_time: t·ªëi
                  health_condition: ti·ªÉu ƒë∆∞·ªùng
                  dietary_preferences: √≠t d·∫ßu m·ª°
                  budget_range: 100k
                  cooking_time: 30 ph√∫t
        required: true
      responses:
        "200":
          description: G·ª£i √Ω th√†nh c√¥ng
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/MealSuggestionResponse"
        "500":
          description: L·ªói server
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
  /api/weekly-menu:
    post:
      tags:
      - Meal Planning
      summary: L·∫≠p th·ª±c ƒë∆°n tu·∫ßn
      description: |
        T·∫°o th·ª±c ƒë∆°n 7 ng√†y v·ªõi 3 b·ªØa/ng√†y (21 b·ªØa).

        **Bao g·ªìm:**
        - Th·ª±c ƒë∆°n chi ti·∫øt t·ª´ng b·ªØa
        - T·ªïng calo m·ªói ng√†y
        - Danh s√°ch mua s·∫Øm cho c·∫£ tu·∫ßn
        - Tips ti·∫øt ki·ªám th·ªùi gian
      operationId: weeklyMenu
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/WeeklyMenuRequest"
        required: true
      responses:
        "200":
          description: Th·ª±c ƒë∆°n t·∫°o th√†nh c√¥ng
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/WeeklyMenuResponse"
        "500":
          description: L·ªói server
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
  /api/detailed-recipes:
    post:
      tags:
      - Meal Planning
      summary: C√¥ng th·ª©c n·∫•u chi ti·∫øt
      description: |
        T·∫°o c√¥ng th·ª©c n·∫•u ƒÉn chi ti·∫øt v·ªõi:
        - Nguy√™n li·ªáu c·ª• th·ªÉ (kh·ªëi l∆∞·ª£ng)
        - C√°c b∆∞·ªõc l√†m t·ª´ng b∆∞·ªõc
        - Th·ªùi gian chu·∫©n b·ªã v√† n·∫•u
        - Th√¥ng tin dinh d∆∞·ª°ng
        - Chi ph√≠ ∆∞·ªõc t√≠nh
        - Tips h·ªØu √≠ch
      operationId: detailedRecipes
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/DetailedRecipesRequest"
        required: true
      responses:
        "200":
          description: C√¥ng th·ª©c t·∫°o th√†nh c√¥ng
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/DetailedRecipesResponse"
        "500":
          description: L·ªói server
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
  /api/user/profile:
    post:
      tags:
      - User Profile
      summary: L∆∞u h·ªì s∆° ng∆∞·ªùi d√πng
      description: |
        L∆∞u ho·∫∑c c·∫≠p nh·∫≠t th√¥ng tin s·ª©c kh·ªèe v√† s·ªü th√≠ch c·ªßa ng∆∞·ªùi d√πng.
        D√πng ƒë·ªÉ c√° nh√¢n h√≥a g·ª£i √Ω dinh d∆∞·ª°ng.
      operationId: saveUserProfile
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UserProfile"
            example:
              name: Nguy·ªÖn VƒÉn A
              age: 35
              weight: 70.5
              height: 170
              health_condition: ti·ªÉu ƒë∆∞·ªùng
              dietary_preferences:
              - √≠t ƒë∆∞·ªùng
              - nhi·ªÅu rau xanh
              allergies:
              - h·∫£i s·∫£n
              target_calories: 1800
              activity_level: v·ª´a ph·∫£i
        required: true
      responses:
        "200":
          description: L∆∞u th√†nh c√¥ng
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SaveProfileResponse"
        "500":
          description: L·ªói server
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
  /api/user/profile/{user_id}:
    get:
      tags:
      - User Profile
      summary: L·∫•y h·ªì s∆° ng∆∞·ªùi d√πng
      description: Truy xu·∫•t th√¥ng tin h·ªì s∆° ng∆∞·ªùi d√πng ƒë√£ l∆∞u
      operationId: getUserProfile
      parameters:
      - name: user_id
        in: path
        description: ID c·ªßa ng∆∞·ªùi d√πng
        required: true
        schema:
          type: string
          example: 550e8400-e29b-41d4-a716-446655440000
      responses:
        "200":
          description: L·∫•y th√†nh c√¥ng
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UserProfile"
        "404":
          description: Kh√¥ng t√¨m th·∫•y ng∆∞·ªùi d√πng
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
components:
  schemas:
    DetectedFood:
      type: object
      properties:
        name:
          type: string
          description: T√™n m√≥n ƒÉn
          example: ph·ªü b√≤
        confidence:
          maximum: 100
          minimum: 0
          type: number
          description: ƒê·ªô tin c·∫≠y (%)
          format: float
          example: 98.5
    Error:
      type: object
      properties:
        error:
          type: string
          description: M√¥ t·∫£ l·ªói
          example: Tin nh·∫Øn kh√¥ng ƒë∆∞·ª£c ƒë·ªÉ tr·ªëng
    ErrorWithSuggestion:
      type: object
      properties:
        error:
          type: string
          example: Kh√¥ng nh·∫≠n di·ªán ƒë∆∞·ª£c m√≥n ƒÉn
        suggestion:
          type: string
          example: Vui l√≤ng ch·ª•p ·∫£nh r√µ h∆°n ho·∫∑c th·ª≠ ·∫£nh kh√°c
    HealthResponse:
      type: object
      properties:
        status:
          type: string
          example: OK
        message:
          type: string
          example: Food Recognition API is running!
        endpoints:
          type: array
          example:
          - /api/chat
          - /api/analyze-food
          - /api/compare-foods
          items:
            type: string
    ChatRequest:
      required:
      - message
      type: object
      properties:
        message:
          type: string
          description: Tin nh·∫Øn c·ªßa ng∆∞·ªùi d√πng
          example: "T√¥i b·ªã ti·ªÉu ƒë∆∞·ªùng, n√™n ƒÉn g√¨?"
        session_id:
          type: string
          description: ID phi√™n chat (t·ª± ƒë·ªông t·∫°o n·∫øu kh√¥ng c√≥)
          example: 550e8400-e29b-41d4-a716-446655440000
    ChatResponse:
      type: object
      properties:
        reply:
          type: string
          description: Tr·∫£ l·ªùi t·ª´ AI
          example: "V·ªõi ng∆∞·ªùi b·ªã ti·ªÉu ƒë∆∞·ªùng, b·∫°n n√™n ∆∞u ti√™n c√°c m√≥n..."
        session_id:
          type: string
          example: 550e8400-e29b-41d4-a716-446655440000
    AnalyzeFoodRequest:
      required:
      - image
      type: object
      properties:
        image:
          type: string
          description: ·∫¢nh m√≥n ƒÉn d·∫°ng base64 (c√≥ ho·∫∑c kh√¥ng c√≥ prefix data:image)
          format: byte
          example: "data:image/jpeg;base64,/9j/4AAQSkZJRg..."
        health_condition:
          type: string
          description: T√¨nh tr·∫°ng s·ª©c kh·ªèe
          example: ti·ªÉu ƒë∆∞·ªùng
          default: kh·ªèe m·∫°nh
          enum:
          - kh·ªèe m·∫°nh
          - ti·ªÉu ƒë∆∞·ªùng
          - b√©o ph√¨
          - tim m·∫°ch
          - huy·∫øt √°p cao
          - gout
        dietary_goals:
          type: string
          description: M·ª•c ti√™u dinh d∆∞·ª°ng
          example: gi·∫£m c√¢n
          default: duy tr√¨ c√¢n n·∫∑ng
          enum:
          - duy tr√¨ c√¢n n·∫∑ng
          - gi·∫£m c√¢n
          - tƒÉng c√¢n
          - tƒÉng c∆°
    AnalyzeFoodResponse:
      type: object
      properties:
        success:
          type: boolean
          example: true
        detected_foods:
          type: array
          items:
            $ref: "#/components/schemas/DetectedFood"
        analysis:
          type: string
          description: Ph√¢n t√≠ch chi ti·∫øt d·∫°ng markdown
        health_condition:
          type: string
          example: ti·ªÉu ƒë∆∞·ªùng
        dietary_goals:
          type: string
          example: gi·∫£m c√¢n
    CompareFoodsRequest:
      required:
      - images
      type: object
      properties:
        images:
          maxItems: 4
          minItems: 2
          type: array
          description: M·∫£ng ·∫£nh c√°c m√≥n ƒÉn (base64)
          example:
          - "data:image/jpeg;base64,/9j/4AAQSkZJRg..."
          - "data:image/jpeg;base64,/9j/4AAQSkZJRg..."
          items:
            type: string
            format: byte
        health_condition:
          type: string
          example: tim m·∫°ch
          default: kh·ªèe m·∫°nh
    DishDetection:
      type: object
      properties:
        dish_number:
          type: integer
          description: S·ªë th·ª© t·ª± m√≥n ƒÉn
          example: 1
        foods:
          type: array
          items:
            $ref: "#/components/schemas/DetectedFood"
    CompareFoodsResponse:
      type: object
      properties:
        success:
          type: boolean
          example: true
        detected_foods:
          type: array
          items:
            $ref: "#/components/schemas/DishDetection"
        comparison:
          type: string
          description: K·∫øt qu·∫£ so s√°nh chi ti·∫øt d·∫°ng markdown
        total_foods:
          type: integer
          description: T·ªïng s·ªë m√≥n ƒë√£ so s√°nh
          example: 3
        health_condition:
          type: string
          example: tim m·∫°ch
    TrackCaloriesRequest:
      required:
      - images
      type: object
      properties:
        images:
          type: array
          description: ·∫¢nh c√°c b·ªØa ƒÉn trong ng√†y (t·ªëi ƒëa 4 b·ªØa)
          example:
          - "data:image/jpeg;base64,..."
          - "data:image/jpeg;base64,..."
          - "data:image/jpeg;base64,..."
          items:
            type: string
            format: byte
        target_calories:
          type: integer
          description: M·ª•c ti√™u calo h√†ng ng√†y
          example: 1800
          default: 2000
        health_condition:
          type: string
          example: b√©o ph√¨
          default: kh·ªèe m·∫°nh
    MealTracking:
      type: object
      properties:
        meal_number:
          type: integer
          example: 1
        meal_name:
          type: string
          description: "T√™n b·ªØa ƒÉn (S√°ng, Tr∆∞a, T·ªëi, Ph·ª•)"
          example: B·ªØa S√°ng
        foods:
          type: array
          items:
            $ref: "#/components/schemas/DetectedFood"
    TrackCaloriesResponse:
      type: object
      properties:
        success:
          type: boolean
          example: true
        daily_meals:
          type: array
          items:
            $ref: "#/components/schemas/MealTracking"
        tracking:
          type: string
          description: B√°o c√°o theo d√µi calo chi ti·∫øt d·∫°ng markdown
        target_calories:
          type: integer
          example: 1800
        meals_count:
          type: integer
          example: 3
        health_condition:
          type: string
          example: b√©o ph√¨
    QuickScanRequest:
      required:
      - image
      type: object
      properties:
        image:
          type: string
          description: ·∫¢nh m√≥n ƒÉn (base64)
          format: byte
          example: "data:image/jpeg;base64,/9j/4AAQSkZJRg..."
    QuickScanResponse:
      type: object
      properties:
        success:
          type: boolean
          example: true
        detected_foods:
          type: array
          items:
            $ref: "#/components/schemas/DetectedFood"
        total:
          type: integer
          description: T·ªïng s·ªë m√≥n nh·∫≠n di·ªán ƒë∆∞·ª£c
          example: 3
    MealSuggestionRequest:
      type: object
      properties:
        health_condition:
          type: string
          example: ti·ªÉu ƒë∆∞·ªùng
          default: kh·ªèe m·∫°nh
        dietary_preferences:
          type: string
          description: S·ªü th√≠ch ƒÉn u·ªëng
          example: ƒÉn chay
          default: kh√¥ng
        budget_range:
          type: string
          description: Ng√¢n s√°ch cho b·ªØa ƒÉn
          example: 50k
          default: 100k
        cooking_time:
          type: string
          description: Th·ªùi gian n·∫•u
          example: 15 ph√∫t
          default: 30 ph√∫t
        meal_time:
          type: string
          description: B·ªØa ƒÉn n√†o trong ng√†y
          example: s√°ng
          default: tr∆∞a
          enum:
          - s√°ng
          - tr∆∞a
          - t·ªëi
          - ph·ª•
    MealSuggestionResponse:
      type: object
      properties:
        suggestion:
          type: string
          description: G·ª£i √Ω th·ª±c ƒë∆°n chi ti·∫øt
        meal_time:
          type: string
          example: s√°ng
    WeeklyMenuRequest:
      type: object
      properties:
        health_condition:
          type: string
          example: tim m·∫°ch
          default: kh·ªèe m·∫°nh
        dietary_preferences:
          type: string
          example: √≠t d·∫ßu m·ª°
          default: kh√¥ng
        budget_range:
          type: string
          description: Ng√¢n s√°ch m·ªói ng√†y
          example: 300k
          default: 500k
        cooking_time:
          type: string
          example: 30 ph√∫t
          default: 45 ph√∫t
    WeeklyMenuResponse:
      type: object
      properties:
        menu:
          type: string
          description: Th·ª±c ƒë∆°n chi ti·∫øt 7 ng√†y d·∫°ng markdown
        duration:
          type: string
          example: 7 ng√†y
    DetailedRecipesRequest:
      type: object
      properties:
        health_condition:
          type: string
          example: gout
          default: kh·ªèe m·∫°nh
        dietary_preferences:
          type: string
          example: √≠t purin
          default: kh√¥ng
        budget_range:
          type: string
          example: 400k
          default: 500k
        days:
          maximum: 7
          minimum: 1
          type: integer
          description: S·ªë ng√†y c·∫ßn th·ª±c ƒë∆°n
          example: 5
          default: 3
    DetailedRecipesResponse:
      type: object
      properties:
        recipes:
          type: string
          description: C√¥ng th·ª©c n·∫•u chi ti·∫øt d·∫°ng markdown
        days:
          type: integer
          example: 5
    UserProfile:
      type: object
      properties:
        user_id:
          type: string
          description: ID ng∆∞·ªùi d√πng (t·ª± ƒë·ªông t·∫°o n·∫øu kh√¥ng c√≥)
          example: 550e8400-e29b-41d4-a716-446655440000
        name:
          type: string
          description: T√™n ng∆∞·ªùi d√πng
          example: Nguy·ªÖn VƒÉn A
        age:
          maximum: 150
          minimum: 1
          type: integer
          description: Tu·ªïi
          example: 35
        weight:
          type: number
          description: C√¢n n·∫∑ng (kg)
          format: float
          example: 70.5
        height:
          type: number
          description: Chi·ªÅu cao (cm)
          format: float
          example: 170
        health_condition:
          type: string
          description: T√¨nh tr·∫°ng s·ª©c kh·ªèe
          example: ti·ªÉu ƒë∆∞·ªùng
          default: kh·ªèe m·∫°nh
          enum:
          - kh·ªèe m·∫°nh
          - ti·ªÉu ƒë∆∞·ªùng
          - b√©o ph√¨
          - tim m·∫°ch
          - huy·∫øt √°p cao
          - gout
          - d·ªã ·ª©ng th·ª±c ph·∫©m
        dietary_preferences:
          type: array
          description: S·ªü th√≠ch ƒÉn u·ªëng
          example:
          - ƒÉn chay
          - √≠t d·∫ßu m·ª°
          items:
            type: string
        allergies:
          type: array
          description: D·ªã ·ª©ng th·ª±c ph·∫©m
          example:
          - h·∫£i s·∫£n
          - ƒë·∫≠u ph·ªông
          items:
            type: string
        target_calories:
          type: integer
          description: M·ª•c ti√™u calo h√†ng ng√†y
          example: 1800
          default: 2000
        activity_level:
          type: string
          description: M·ª©c ƒë·ªô v·∫≠n ƒë·ªông
          example: nhi·ªÅu
          default: v·ª´a ph·∫£i
          enum:
          - √≠t v·∫≠n ƒë·ªông
          - v·ª´a ph·∫£i
          - nhi·ªÅu
          - r·∫•t nhi·ªÅu
    SaveProfileResponse:
      type: object
      properties:
        message:
          type: string
          example: L∆∞u th√¥ng tin th√†nh c√¥ng
        user_id:
          type: string
          example: 550e8400-e29b-41d4-a716-446655440000
  securitySchemes:
    ApiKeyAuth:
      type: apiKey
      description: API key ƒë·ªÉ x√°c th·ª±c (t√πy ch·ªçn cho production)
      name: X-API-Key
      in: header
